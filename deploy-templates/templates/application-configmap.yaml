apiVersion: v1
kind: ConfigMap
metadata:
  name: user-settings-service-api-properties
data:
  config.yaml: |-
    server.max-http-header-size: 32KB
    data-platform:
      kafka:
        bootstrap: {{ .Values.kafka.service }}
        ssl:
          enabled: {{ .Values.kafka.sslEnabled }}
          keystore-certificate: {{ .Values.kafka.sslUserCertificate }}
          keystore-key: {{ .Values.kafka.sslUserKey }}
          truststore-certificate: {{ .Values.kafka.sslClusterCertificate }}
        topic-properties:
          num-partitions: {{ .Values.kafka.numPartitions }}
          replication-factor: {{ .Values.global.kafkaOperator.replicationFactor }}

    platform:
      security:
        csrf:
          enabled: {{ .Values.platform.security.csrf.enabled }}

    audit:
      kafka:
        bootstrap: {{ .Values.kafka.service }}
        topic: {{ .Values.audit.kafka.topic }}
        schema-registry-url: {{ .Values.audit.kafka.schemaRegistryUrl }}
        ssl:
          enabled: {{ .Values.kafka.sslEnabled }}
          keystore-certificate: {{ .Values.kafka.sslUserCertificate }}
          keystore-key: {{ .Values.kafka.sslUserKey }}
          truststore-certificate: {{ .Values.kafka.sslClusterCertificate }}
